# 🎯 AI协作快速参考卡

## 场景1: 分析新的旧代码项目

**提示词：**
```
我需要分析项目 [项目名] 的旧代码。

目标：快速创建System Specification文档

旧代码位置：[路径]

请按照以下步骤执行：

1. Step 1 (15min): 搜索并提取所有常量定义
   - 输出：CONSTANTS.md（表格格式）
   
2. Step 2 (30min): 绘制核心流程图
   - 输出：FLOW_DIAGRAM.md（mermaid格式）
   
3. Step 3 (20min): 提取关键函数签名
   - 输出：FUNCTION_SIGNATURES.md
   
4. Step 4 (25min): 识别特殊机制
   - 输出：SPECIAL_MECHANICS.md
   
5. Step 5 (10min): 创建新旧代码对比表
   - 新代码位置：[新代码路径]
   - 输出：COMPARISON.md（标注优先级P0/P1/P2）

每步完成后汇总到 SYSTEM_SPEC.md
```

---

## 场景2: 快速验证某个功能是否正确实现

**提示词：**
```
验证功能：[功能名，如"Power系统"]

旧代码参考：[文件路径和行号]
新代码位置：[文件路径]

请执行：
1. 读取旧代码的实现逻辑
2. 读取新代码的对应部分
3. 创建逐行对比表
4. 标注：✅完全匹配 / ⚠️部分匹配 / ❌缺失
5. 如有差异，提供修复代码

输出格式：简洁的对比报告 + 修复方案
```

---

## 场景3: 发现游戏平衡问题

**提示词：**
```
问题现象：[描述，如"玩家奖励过高"]

请执行：
1. 读取 SYSTEM_SPEC.md 的常量部分
2. 对比新旧代码的数值
3. 计算影响：
   - 哪些值不同？
   - 差异百分比？
   - 对玩家的实际影响？
4. 提供修复代码

输出：差异报告 + 修复patch
```

---

## 场景4: 实现缺失的特殊功能

**提示词：**
```
功能：[如"全屏炸弹"]

旧代码参考：[文件路径]

请执行：
1. 完整读取旧代码的实现
2. 提取核心算法
3. 转换为Node.js代码
4. 添加必要的注释
5. 说明如何集成到现有代码

输出：
- 函数实现代码
- 集成说明
- 测试建议
```

---

## 场景5: 更新SYSTEM_SPEC.md

**提示词：**
```
刚完成了 [功能名] 的实现/修复。

请更新 SYSTEM_SPEC.md：
1. 在Implementation Status中标记为完成
2. 添加到Update History
3. 如有新的Design Decision，记录原因
4. 更新Next Steps

保持文档简洁，只更新必要部分。
```

---

## 常用搜索命令

**查找常量定义：**
```bash
grep -r "const\|var.*=.*{" --include="*define*"
```

**查找函数定义：**
```bash
grep -r "func.*(" --include="*.go"
```

**查找事件handler：**
```bash
grep -r "case\|\.on\(" 
```

**查找特殊逻辑：**
```bash
grep -r "if.*Kind.*==" --include="*.go"
```

---

## 快捷键

**创建新分析：** 场景1提示词
**验证功能：** 场景2提示词
**修复平衡：** 场景3提示词
**实现功能：** 场景4提示词
**更新文档：** 场景5提示词

(()=>{var t={138:(t,e,n)=>{var r={"./at_at.svg":773,"./c3po.svg":809,"./darth_vader.svg":916,"./death_star.svg":645,"./falcon.svg":67,"./r2d2.svg":918,"./stormtrooper.svg":952,"./tie_ln.svg":103,"./yoda.svg":677};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=138},773:(t,e,n)=>{"use strict";t.exports=n.p+"0379613a4269155f45b3.svg"},809:(t,e,n)=>{"use strict";t.exports=n.p+"92e4eecf1c83293e3395.svg"},916:(t,e,n)=>{"use strict";t.exports=n.p+"9ae79499243776a4de6e.svg"},645:(t,e,n)=>{"use strict";t.exports=n.p+"3392ebef20e51148368e.svg"},67:(t,e,n)=>{"use strict";t.exports=n.p+"b33cd68d7fb870c59309.svg"},918:(t,e,n)=>{"use strict";t.exports=n.p+"a97a2e9fa184dcab972b.svg"},952:(t,e,n)=>{"use strict";t.exports=n.p+"61e5b40f641dff097d3f.svg"},103:(t,e,n)=>{"use strict";t.exports=n.p+"7d600c80a7f5f31bc337.svg"},677:(t,e,n)=>{"use strict";t.exports=n.p+"4c0ad8f5f10199effb77.svg"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="./",(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var o={},i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,o[e]?this.img=o[e].cloneNode():(this.img=new Image,this.img.src=n(138)("./".concat(e,".svg")),o[e]=this.img)}return r=t,i=[{key:"preload",value:function(){t.symbols.forEach((function(e){return new t(e)}))}},{key:"symbols",get:function(){return["at_at","c3po","darth_vader","death_star","falcon","r2d2","stormtrooper","tie_ln","yoda"]}},{key:"random",value:function(){return this.symbols[Math.floor(Math.random()*this.symbols.length)]}}],null&&e(r.prototype,null),i&&e(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}var u=function(){return t=function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reelContainer=e,this.idx=n,this.symbolContainer=document.createElement("div"),this.symbolContainer.classList.add("icons"),this.reelContainer.appendChild(this.symbolContainer),this.animation=this.symbolContainer.animate([{top:0,filter:"blur(0)"},{filter:"blur(2px)",offset:.5},{top:"calc((".concat(10*Math.floor(this.factor)," / 3) * -100% - (").concat(10*Math.floor(this.factor)," * 3px))"),filter:"blur(0)"}],{duration:1e3*this.factor,easing:"ease-in-out"}),this.animation.cancel(),r.forEach((function(t){return o.symbolContainer.appendChild(new i(t).img)}))},(e=[{key:"factor",get:function(){return 1+Math.pow(this.idx/2,2)}},{key:"renderSymbols",value:function(t){for(var e=document.createDocumentFragment(),n=3;n<3+10*Math.floor(this.factor);n++){var r=new i(n>=10*Math.floor(this.factor)-2?t[n-10*Math.floor(this.factor)]:void 0);e.appendChild(r.img)}this.symbolContainer.appendChild(e)}},{key:"spin",value:function(){var t=this,e=new Promise((function(e){return t.animation.onfinish=e})),n=new Promise((function(e){return setTimeout(e,1e3*t.factor)}));return this.animation.cancel(),this.animation.play(),Promise.race([e,n]).then((function(){"finished"!==t.animation.playState&&t.animation.finish();for(var e=t.symbolContainer.children.length-3,n=0;n<e;n++)t.symbolContainer.firstChild.remove()}))}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}var h=function(){return t=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.preload(),this.currentSymbols=[["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"]],this.nextSymbols=[["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"]],this.container=e,this.reels=Array.from(this.container.getElementsByClassName("reel")).map((function(t,e){return new u(t,e,n.currentSymbols[e])})),this.spinButton=document.getElementById("spin"),this.spinButton.addEventListener("click",(function(){return n.spin()})),this.autoPlayCheckbox=document.getElementById("autoplay"),r.inverted&&this.container.classList.add("inverted"),this.config=r},(e=[{key:"spin",value:function(){var t=this;return this.currentSymbols=this.nextSymbols,this.nextSymbols=[[i.random(),i.random(),i.random()],[i.random(),i.random(),i.random()],[i.random(),i.random(),i.random()],[i.random(),i.random(),i.random()],[i.random(),i.random(),i.random()]],this.onSpinStart(this.nextSymbols),Promise.all(this.reels.map((function(e){return e.renderSymbols(t.nextSymbols[e.idx]),e.spin()}))).then((function(){return t.onSpinEnd(t.nextSymbols)}))}},{key:"onSpinStart",value:function(t){var e,n;this.spinButton.disabled=!0,null===(e=(n=this.config).onSpinStart)||void 0===e||e.call(n,t)}},{key:"onSpinEnd",value:function(t){var e,n,r=this;if(this.spinButton.disabled=!1,null===(e=(n=this.config).onSpinEnd)||void 0===e||e.call(n,t),this.autoPlayCheckbox.checked)return window.setTimeout((function(){return r.spin()}),200)}}])&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),m={inverted:!1,onSpinStart:function(t){console.log("onSpinStart",t)},onSpinEnd:function(t){console.log("onSpinEnd",t)}};new h(document.getElementById("slot"),m)})()})();